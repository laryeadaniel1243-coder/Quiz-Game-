
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BrainBoost AI</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body{
background: linear-gradient(135deg,#4f46e5,#9333ea,#ec4899);
}
.card{border-radius:30px;}
</style>
</head>

<body class="flex items-center justify-center min-h-screen p-4">

<div class="card bg-white shadow-2xl w-full max-w-md p-6">

<h1 class="text-center text-2xl font-bold text-indigo-600 mb-4">
ðŸ§  BrainBoost AI
</h1>

<!-- LOGIN -->
<div id="auth">
<input id="email" placeholder="Email" class="border p-2 w-full mb-2 rounded">
<input id="password" type="password" placeholder="Password" class="border p-2 w-full mb-2 rounded">

<button onclick="signup()" class="bg-indigo-600 text-white w-full py-2 rounded mb-2">
Sign Up
</button>

<button onclick="login()" class="bg-gray-800 text-white w-full py-2 rounded">
Login
</button>
</div>

<!-- GAME -->
<div id="game" class="hidden">
<p id="welcome" class="text-center mb-3"></p>

<button onclick="generateAIQuestion()" 
class="bg-purple-600 text-white w-full py-2 rounded mb-2">
ðŸ¤– Generate AI Question
</button>

<p id="question" class="mb-3"></p>
<input id="answer" placeholder="Type answer..." 
class="border p-2 w-full rounded mb-2">

<button onclick="submitAnswer()" 
class="bg-indigo-600 text-white w-full py-2 rounded">
Submit
</button>

<p class="text-center mt-2">
Score: <span id="score">0</span>
</p>
</div>

</div>

<script type="module">

/* ðŸ”¥ FIREBASE CONFIG */
import { initializeApp } from 
"https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";

import { getAuth, createUserWithEmailAndPassword,
signInWithEmailAndPassword, onAuthStateChanged } 
from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";

import { getFirestore, doc, setDoc, updateDoc,
increment } 
from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

const firebaseConfig = {
apiKey: "YOUR_API_KEY",
authDomain: "YOUR_AUTH_DOMAIN",
projectId: "YOUR_PROJECT_ID"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

let currentUser;
let correctAnswer="";
let score=0;

// SIGNUP
window.signup = function(){
createUserWithEmailAndPassword(auth,
email.value,password.value)
.catch(e=>alert(e.message));
}

// LOGIN
window.login = function(){
signInWithEmailAndPassword(auth,
email.value,password.value)
.catch(e=>alert(e.message));
}

// AUTH STATE
onAuthStateChanged(auth,user=>{
if(user){
currentUser=user;
document.getElementById("auth").classList.add("hidden");
document.getElementById("game").classList.remove("hidden");
document.getElementById("welcome").textContent=
"Welcome "+user.email;
}else{
document.getElementById("auth").classList.remove("hidden");
document.getElementById("game").classList.add("hidden");
}
});

// ðŸ¤– AI QUESTION GENERATOR
window.generateAIQuestion = async function(){

const response = await fetch("https://api.openai.com/v1/chat/completions",{
method:"POST",
headers:{
"Content-Type":"application/json",
"Authorization":"Bearer YOUR_OPENAI_API_KEY"
},
body:JSON.stringify({
model:"gpt-4o-mini",
messages:[
{role:"system",
content:"Generate one hard quiz question and answer in JSON format: {question:'',answer:''}"
}
]
})
});

const data=await response.json();
const text=data.choices[0].message.content;

const parsed=JSON.parse(text);

document.getElementById("question").textContent=
parsed.question;

correctAnswer=parsed.answer.toLowerCase();
}

// SUBMIT ANSWER
window.submitAnswer = async function(){
let userAns=document.getElementById("answer").value.toLowerCase();

if(userAns===correctAnswer){
score++;
document.getElementById("score").textContent=score;
confetti({particleCount:100,spread:60});

await updateDoc(doc(db,"users",currentUser.uid),{
score:increment(1)
});
}else{
alert("Wrong answer!");
}
}

</script>

</body>
</html>